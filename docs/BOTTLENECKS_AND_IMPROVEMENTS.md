# BOTTLENECKS_AND_IMPROVEMENTS (–∞–∫—Ç—É–∞–ª—å–Ω–æ –ø–æ –∫–æ–¥—É)

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-12-16  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** —Ç–µ–∫—É—â–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (—Å–º. [`ACTUAL_STATUS.md`](./ACTUAL_STATUS.md)).

> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ ¬´rebase¬ª: —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ä–∞–∑–¥–µ–ª—ã —É–¥–∞–ª–µ–Ω—ã/—Å–æ–∫—Ä–∞—â–µ–Ω—ã (>50%), –∞ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∞ –ø–æ –∫–æ–¥—É (~40%).

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ bottlenecks (–±–ª–æ–∫–∏—Ä—É—é—Ç production)

### 1) TTS –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏—à–∏–Ω—É –≤–º–µ—Å—Ç–æ –≥–æ–ª–æ—Å–∞

**–ì–¥–µ:** `core/generators/tts_generator.py`
- `_synthesize_gemini_tts_async(...)` ‚Üí –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∞—É–¥–∏–æ –∏ —É—Ö–æ–¥–∏—Ç –≤ `_create_silent_wav(...)`.

**Impact:**
- –õ—é–±–æ–µ –≤–∏–¥–µ–æ –∏–∑ `pipeline_orchestrator` –ø–æ–ª—É—á–∞–µ—Ç—Å—è –±–µ–∑ –æ–∑–≤—É—á–∫–∏.

**–ß—Ç–æ —É–ª—É—á—à–∞—Ç—å:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å/–∑–∞–º–µ–Ω–∏—Ç—å TTS backend —Ç–∞–∫, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏—Å—å —Ä–µ–∞–ª—å–Ω—ã–µ –±–∞–π—Ç—ã –∞—É–¥–∏–æ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ WAV.

---

### 2) Subtitles –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–∞–∫ –∫–ª–∞—Å—Å

**–ì–¥–µ:**
- `core/generators/video_renderer.py` ‚Äî –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏/–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è.
- `core/orchestrators/pipeline_orchestrator.py` ‚Äî –Ω–µ—Ç —à–∞–≥–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤.

**Impact:**
- –ù–∏–∑–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –≤–∏–¥–µ–æ, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ —Å–º–æ—Ç—Ä—è—Ç –±–µ–∑ –∑–≤—É–∫–∞).

**–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π MVP-–ø—É—Ç—å:**
- –°—É–±—Ç–∏—Ç—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è (—É–∂–µ –µ—Å—Ç—å), —Ç–∞–π–º–∏–Ω–≥ –ø–æ `audio_map["total_duration_sec"]`.

---

### 3) Upload —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –µ—Å—Ç—å –≤ orchestrator, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

**–ì–¥–µ:**
- `core/orchestrators/pipeline_orchestrator.py` ‚Äî –≤–µ—Ç–∫–∞ `--upload`.
- `core/uploaders/youtube_uploader.py` ‚Äî `raise NotImplementedError`.

**Impact:**
- –ù–µ–ª—å–∑—è –≤–∫–ª—é—á–∏—Ç—å end-to-end automation ‚Äúgenerate ‚Üí publish‚Äù.

---

## üü† –í—ã—Å–æ–∫–∏–µ bottlenecks (–º–µ—à–∞—é—Ç –º–∞—Å—à—Ç–∞–±—É/—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)

### 4) Video rendering –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º

**–ì–¥–µ:** `core/generators/video_renderer.py`

**–ü—Ä–∏—á–∏–Ω—ã:**
- MoviePy/FFmpeg.
- `TextClip` –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏; –µ—Å—Ç—å fallback –Ω–∞ PIL, –Ω–æ –Ω–µ –≤–µ–∑–¥–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ.

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä —Ç–µ–∫—Å—Ç–∞ (PIL-first) –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.
- Retry/cleanup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è.

---

### 5) Pixabay: rate limits –∏ variability

**–ì–¥–µ:** `core/generators/video_renderer.py` (`_get_pixabay_video`, `_download_video`).

**Impact:**
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `PIXABAY_API_KEY` –≤—Å–µ–≥–¥–∞ fallback –Ω–∞ –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π —Ñ–æ–Ω.
- –î–∞–∂–µ —Å –∫–ª—é—á–æ–º –∫–∞—á–µ—Å—Ç–≤–æ/—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–≥—É—Ç –≥—É–ª—è—Ç—å.

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–∫–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ) –∏/–∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

---

## üü° –°—Ä–µ–¥–Ω–∏–µ bottlenecks (–∫–∞—á–µ—Å—Ç–≤–æ/—Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ)

### 6) `core/content_modes/*` (Slides mode) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º pipeline

**–ì–¥–µ:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: `core/content_modes/slides_mode/*`.
- –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ: `core/orchestrators/pipeline_orchestrator.py`.

**Impact:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ (classic renderer vs content modes).

---

### 7) –ö–æ–Ω—Ñ–∏–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–¥ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
- `config/shared.yaml`: `subtitles`, `caching`.

**Impact:**
- –õ–æ–∂–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –õ–∏–±–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ/–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ, –ª–∏–±–æ —É–±—Ä–∞—Ç—å/–ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ ignored.

---

## üß© Workflows / Auto-fix

**–§–∞–∫—Ç—ã:**
- Workflow —Å—É—â–µ—Å—Ç–≤—É—é—Ç: `.github/workflows/tests.yml`, `code-quality.yml`, `auto-fix-failures.yml`, `generate-batch.yml`, ‚Ä¶
- –ê–≤—Ç–æ–∞–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `core/auto_fix_agent.py`, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ/–ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ LLM –∏ –Ω–∞–ª–∏—á–∏—è –ø—Ä–∞–≤ `gh`.

–°–º. —Ç–∞–∫–∂–µ `docs/WORKFLOW_AUDIT.md`.
