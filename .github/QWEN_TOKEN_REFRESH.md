# Qwen Token Auto-Refresh üîÑ

## üö® –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–¢–≤–æ–π Access Token –∂–∏–≤—ë—Ç –¥–æ:** 9 —Ñ–µ–≤—Ä–∞–ª—è 2025 ‚úÖ (–µ—â—ë ~2 –º–µ—Å—è—Ü–∞)

```
expiry_date: 1765543004617 (milliseconds)
```

---

## üí° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Refresh

–°–æ–∑–¥–∞–ª workflow –∫–æ—Ç–æ—Ä—ã–π **–∫–∞–∂–¥—ã–π –¥–µ–Ω—å** –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á —á–µ—Ä–µ–∑ refresh token!

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2 AM UTC (10 AM MSK)
    ‚Üì
qwen-token-refresh.yml –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
    ‚Üì
–ß–∏—Ç–∞–µ—Ç QWEN_REFRESH_TOKEN –∏–∑ Secrets
    ‚Üì
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ Qwen OAuth endpoint
    ‚Üì
–ü–æ–ª—É—á–∞–µ—Ç –ù–û–í–´–ô access_token
    ‚Üì
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ª–æ–≥ + Issue
    ‚Üì
–¢—ã —Å–∫–æ–ø–∏—Ä—É–µ—à—å –≤ Secrets
    ‚Üì
–ù–æ–≤—ã–µ workflow –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–π –∫–ª—é—á
```

---

## ‚úèÔ∏è Setup

### –®–∞–≥ 1: –î–æ–±–∞–≤—å Refresh Token

–í GitHub:
```
Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

Name:  QWEN_REFRESH_TOKEN
Value: 1dxcdJ3uDRIPl5F0EEaB0un0lS1-dkEby3Hqb1z1qdSn4HWeUoa23jZKOkvJ_Bg4a7ijeR6TBOznPdJd1c1Wmg
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å refresh:
```
Actions ‚Üí Qwen Token Auto-Refresh ‚Üí Run workflow
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–û–Ω —Å–æ–∑–¥–∞—Å—Ç Issue —Å –Ω–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏:
```
üîê Qwen Token Refreshed

New Access Token: MAuu...
New Refresh Token: 1dxc...
```

---

## üìù –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π

–ö–æ–≥–¥–∞ workflow –æ–±–Ω–æ–≤–∏—Ç –∫–ª—é—á–∏:

1. –û—Ç–∫—Ä–æ–π Issue —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "Qwen Token Refreshed"
2. –ù–∞–π–¥–∏ –Ω–æ–≤—ã–π access_token –≤ –ª–æ–≥–µ
3. –û—Ç–∫—Ä–æ–π GitHub Secrets
4. –û–±–Ω–æ–≤–∏ `QWEN_ACCESS_TOKEN` –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**GitHub API –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å Secrets –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ** –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

–ü–æ—ç—Ç–æ–º—É workflow:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–ª—é—á
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –µ–≥–æ –≤ –ª–æ–≥ –∏ Issue
- ‚ùå –ù–ï –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å GitHub Secret —Å–∞–º
- ‚úèÔ∏è –¢—ã –∫–æ–ø–∏—Ä—É–µ—à—å –≤—Ä—É—á–Ω—É—é

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Personal Access Token

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

1. –°–æ–∑–¥–∞–π Personal Access Token:
   ```
   Settings ‚Üí Developer settings ‚Üí Personal access tokens
   –ù—É–∂–µ–Ω scope: secrets
   ```

2. –î–æ–±–∞–≤—å –µ–≥–æ –∫–∞–∫ Secret:
   ```
   Name: GH_PAT
   Value: ghp_xxx...
   ```

3. –û–±–Ω–æ–≤–∏–º workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üí≥ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

–°–µ–π—á–∞—Å workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```yaml
on:
  schedule:
    - cron: '0 2 * * *'  # –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2 AM UTC (10 AM MSK)
```

–ú–æ–∂–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –≤ `.github/workflows/qwen-token-refresh.yml`:

```yaml
# –ö–∞–∂–¥—ã–µ 3 –¥–Ω—è
- cron: '0 2 * * 0,3,6'  # –ü–Ω, –ß—Ç, –í—Å

# –î–≤–∞–∂–¥—ã –≤ –¥–µ–Ω—å
- cron: '0 2,14 * * *'    # 2 AM –∏ 2 PM UTC

# –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
- cron: '0 2 * * 1'       # –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
```

---

## üîì –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ Refresh token –ù–ï –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ stdout
- ‚úÖ –¢–æ–ª—å–∫–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ Issue (–∏ —Ç–æ –æ–±—Ç—Ä–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
- ‚úÖ –û–±–∞ —Ç–æ–∫–µ–Ω–∞ –∑–∞—â–∏—â–µ–Ω—ã –∫–∞–∫ Secrets
- ‚úÖ Workflow —Ç—Ä–µ–±—É–µ—Ç push permissions
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è QWEN_REFRESH_TOKEN –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞

---

## üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```bash
# –û—Ç–∫—Ä—ã—Ç—å Secrets –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://github.com/crosspostly/content-factory/settings/secrets/actions

# –û—Ç–∫—Ä—ã—Ç—å workflow runs
https://github.com/crosspostly/content-factory/actions/workflows/qwen-token-refresh.yml
```

---

## üîÑ –†—É—á–Ω–æ–π Refresh

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

1. –û—Ç–∫—Ä–æ–π GitHub Actions
2. –ù–∞–π–¥–∏ "Qwen Token Auto-Refresh"
3. Click "Run workflow"
4. –ñ–¥–∏ ~1-2 –º–∏–Ω—É—Ç—ã
5. –ö–æ–ø–∏—Ä—É–π –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –∏–∑ Issue

---

**–í—Å—ë! –¢–µ–ø–µ—Ä—å –∫–ª—é—á–∏ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üöÄ
